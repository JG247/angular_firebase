var CreditFeatureModule=angular.module("CreditFeatureModule",["firebase"]);CreditFeatureModule.controller("CreditFeatureCtrl",["$scope","$firebaseArray",function(a,b){$("#newCreditModal").on("shown.bs.modal",function(a){$('input[type="text"],input[type="number"]').val(""),$("#creditName").focus()}),$("#update_data").click(function(){if(""!=$('input[type="text"]').val()&&""!=$('input[type="number"]').val()){var b=new Firebase("https://angularjg.firebaseio.com/credit");b.once("value",function(c){this.data=c,b.child(c.val().length).set([a.creditName,a.creditScore]),a.creditName="",a.creditScore="",$("#newCreditModal").modal("hide")})}});var c=new Firebase("https://angularjg.firebaseio.com/credit");$("#removeCreditModal").on("shown.bs.modal",function(b){$("select").val(""),$("#selectRemoveCreditProfile").focus();var c=new Firebase("https://angularjg.firebaseio.com/credit");c.once("value",function(b){this.data=b;var c=b.val();a.creditData=c,$("#selectRemoveCreditProfile").empty(),$("#selectRemoveCreditProfile").append("<option value='' selected>--- Select a pofile to delete ---</option>");for(var d=c.length-1;d>=0;d--)void 0!=c[d]&&$("#selectRemoveCreditProfile").append("<option value="+d+">"+c[d][0]+" - "+c[d][1]+"</option>")})}),a.creditRemove="",a.removeData=function(a){this.index=a,console.log(a);var b=new Firebase("https://angularjg.firebaseio.com/credit");b.once("value",function(b){this.data=b;var c=parseInt(a),d=c,e=[];if(b.val().length>1){for(var f=0;f<b.val().length;f++)f!=d&&e.push([b.val()[f][0],b.val()[f][1]]);var g=new Firebase("https://angularjg.firebaseio.com");g.once("value",function(a){this.data=a,g.child("credit").set(e)}),console.log(e),$("#removeCreditModal").modal("hide")}})},$("#updateCreditModal").on("shown.bs.modal",function(b){$('select,input[type="text"],input[type="number"]').val(""),$("#selectUpdateCreditProfile").focus();var c=new Firebase("https://angularjg.firebaseio.com/credit");c.once("value",function(b){this.data=b;var c=b.val();a.creditUpdateData=c,$("#selectUpdateCreditProfile").empty(),$("#selectUpdateCreditProfile").append("<option value='' selected>--- Select a pofile to edit ---</option>");for(var d=c.length-1;d>=0;d--)void 0!=c[d]&&$("#selectUpdateCreditProfile").append("<option value="+d+">"+c[d][0]+" - "+c[d][1]+"</option>")})}),a.creditUpdateData="",a.updateData=function(a,b,c){this.index=a,this.score=b,this.name=c,console.log(a+" "+b+" "+c);var d=new Firebase("https://angularjg.firebaseio.com/credit");d.once("value",function(d){this.data=d;var e=parseInt(a),f=e,g=[];if(d.val().length>0){for(var h=0;h<d.val().length;h++)h==f?g.push([c,b]):g.push([d.val()[h][0],d.val()[h][1]]);var i=new Firebase("https://angularjg.firebaseio.com");i.once("value",function(a){this.data=a,i.child("credit").set(g)}),console.log(g),$("#updateCreditModal").modal("hide")}})},c.on("value",function(a){var b={chart:{renderTo:"creditfeature",type:"column"},title:{text:"Credit scores"},subtitle:{text:""},xAxis:{type:"category",labels:{rotation:-45,style:{fontSize:"13px",fontFamily:"Verdana, sans-serif"}}},yAxis:{min:0,max:999,title:{text:"Experian credit score"}},legend:{enabled:!1},tooltip:{pointFormat:"Credit score in 2015: <b>{point.y:.1f}</b>"},series:[{name:"Population",data:a.val(),dataLabels:{enabled:!0,rotation:-90,color:"#FFFFFF",align:"right",format:"{point.y:.1f}",y:10,style:{fontSize:"13px",fontFamily:"Verdana, sans-serif"}}}]};new Highcharts.Chart(b)})}]),CreditFeatureModule.directive("creditfeature",function(){return{restrict:"E",controller:"CreditFeatureCtrl",templateUrl:"app/CreditFeatureModule/templates/CreditFeature.html"}});var MenuFeatureModule=angular.module("MenuFeatureModule",[]);MenuFeatureModule.controller("MenuFeatureCtrl",["$scope",function(a){}]),MenuFeatureModule.directive("menufeature",function(){return{restrict:"E",controller:"MenuFeatureCtrl",templateUrl:"app/MenuFeatureModule/templates/MenuFeature.html"}}),angular.bootstrap(document,["MenuFeatureModule","CreditFeatureModule"]);